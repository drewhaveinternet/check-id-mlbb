<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Cek ID Akun Mobile Legends</title>
  <meta name="description" content="Cek Username dan Region Akun Mobile Legends lewat ID" />
  
  <!-- Google Fonts Poppins -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />

  <!-- jQuery & Lucide Icons -->
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <script src="https://unpkg.com/lucide@latest"></script>

  <style>
    /* RESET & BASIC */
    * {
      box-sizing: border-box;
    }
    body {
      margin: 0; padding: 0;
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #1c1a17, #403d32);
      color: #f5f1e9;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 1rem;
    }
    main {
      background: rgba(255 255 255 / 0.07);
      border: 1px solid rgba(255 255 255 / 0.15);
      border-radius: 1rem;
      max-width: 420px;
      width: 100%;
      box-shadow: 0 0 20px rgba(255 215 0, 0.35);
      backdrop-filter: blur(12px);
      padding: 2rem;
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
      position: relative;
    }

    /* HEADER */
    header {
      text-align: center;
    }
    header img {
      height: 60px;
      width: auto;
      margin-bottom: 1rem;
      filter: drop-shadow(0 0 5px gold);
    }
    header h1 {
      margin: 0;
      font-weight: 600;
      font-size: 1.75rem;
      color: #ffd966;
      text-shadow: 0 0 6px #ffd966aa;
    }
    header p {
      margin: 0.25rem 0 0;
      font-size: 0.9rem;
      color: #e0d9c1cc;
    }

    /* FORM */
    form {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }
    label {
      font-size: 0.9rem;
      font-weight: 600;
      color: #ffd966cc;
      user-select:none;
    }
    input[type=number] {
      width: 100%;
      padding: 0.5rem 0.75rem;
      font-size: 1rem;
      border-radius: 0.5rem;
      border: 1.5px solid #ffd96688;
      background: rgba(255 255 255 / 0.1);
      color: #f5f1e9;
      transition: border-color 0.3s ease;
      box-shadow: inset 0 0 5px #ffd96655;
    }
    input[type=number]::placeholder {
      color: #ffd96655;
      font-style: italic;
    }
    input[type=number]:focus {
      outline: none;
      border-color: #ffd966ee;
      box-shadow: 0 0 8px #ffd966dd;
      background: rgba(255 255 255 / 0.15);
    }

    /* BUTTON */
    button#submit-button {
      position: relative;
      background: linear-gradient(90deg, #ffd966 0%, #e6c84a 100%);
      color: #1c1a17;
      font-weight: 600;
      font-size: 1.1rem;
      padding: 0.75rem 0;
      border: none;
      border-radius: 0.7rem;
      cursor: pointer;
      overflow: hidden;
      box-shadow: 0 0 15px #ffd966aa;
      user-select:none;
      transition: background 0.3s ease;
    }
    button#submit-button:hover:not(.loading) {
      background: linear-gradient(90deg, #ffec7a 0%, #ffde59 100%);
      box-shadow: 0 0 25px #ffe066cc;
    }
    button#submit-button.loading {
      cursor: default;
      background: #b39a3d;
      box-shadow: 0 0 20px #b39a3d99 inset;
      color: #333;
    }
    button#submit-button .btn-loader {
      position: absolute;
      top: 50%;
      right: 1.2rem;
      transform: translateY(-50%);
      font-weight: 600;
      color: #333;
      opacity: 0;
      transition: opacity 0.3s ease;
      user-select:none;
    }
    button#submit-button.loading .btn-loader {
      opacity: 1;
    }
    button#submit-button.loading .btn-text {
      opacity: 0.3;
    }

    /* ERROR & RESULT CONTAINER */
    #error-container, #result-container {
      padding: 1rem 1.25rem;
      border-radius: 0.7rem;
      font-size: 0.95rem;
      display: none;
      align-items: center;
      gap: 0.5rem;
    }
    #error-container {
      background: rgba(255, 0, 0, 0.15);
      color: #ff5555;
      box-shadow: 0 0 12px #ff4444aa;
    }
    #result-container {
      background: rgba(140, 200, 60, 0.25);
      color: #d1f289;
      box-shadow: 0 0 15px #9fbe3dcc;
      flex-direction: column;
    }
    #result-container > div:first-child {
      display: flex;
      align-items: center;
      font-weight: 600;
      font-size: 1.1rem;
      gap: 0.5rem;
      margin-bottom: 0.75rem;
      text-shadow: 0 0 8px #b0cc57;
    }
    #result-container .info-row {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      font-weight: 500;
    }
    #result-container .info-label {
      min-width: 70px;
      color: #d6dbb7;
      font-size: 0.85rem;
      user-select:none;
    }
    #result-container .info-value {
      font-weight: 700;
      font-size: 1rem;
      user-select:text;
      color: #eef5d7;
      text-shadow: 0 0 4px #d1f289bb;
    }

    /* ICONS */
    svg {
      stroke-width: 2.5;
      color: #ffd966cc;
      flex-shrink: 0;
    }
    #result-container svg {
      color: #a7ce58;
    }
    #error-container svg {
      color: #ff5555;
    }

    /* FOOTER */
    footer {
      font-size: 0.75rem;
      text-align: center;
      color: #a99a5a;
      user-select:none;
      margin-top: 1.5rem;
    }
    footer a {
      color: #ffd966cc;
      text-decoration: none;
    }
    footer a:hover {
      color: #fff;
      text-decoration: underline;
    }

    /* RESPONSIVE */
    @media (max-width: 480px) {
      main {
        padding: 1.5rem 1.25rem;
        max-width: 100%;
      }
      header h1 {
        font-size: 1.4rem;
      }
      button#submit-button {
        font-size: 1rem;
      }
    }
  </style>
</head>
<body>
  <main role="main" aria-label="Cek ID Akun Mobile Legends">
    <header>
      <img src="./img/logo-ml.webp" alt="Logo Mobile Legends" />
      <h1>Cek ID Akun Mobile Legends</h1>
      <p>Cek Username dan Region Akun Mobile Legends lewat ID</p>
    </header>

    <form id="validation-form" aria-describedby="form-desc" novalidate>
      <label for="gameId">User ID</label>
      <input
        type="number"
        id="gameId"
        name="gameId"
        placeholder="Masukkan User ID Anda"
        autocomplete="off"
        required
        inputmode="numeric"
        aria-required="true"
      />
      <label for="serverId">Server ID</label>
      <input
        type="number"
        id="serverId"
        name="serverId"
        placeholder="Masukkan Server ID Anda"
        autocomplete="off"
        required
        inputmode="numeric"
        aria-required="true"
      />

      <button type="submit" id="submit-button" aria-live="polite" aria-busy="false">
        <span class="btn-text">Cek Sekarang!</span>
        <span class="btn-loader">0%</span>
      </button>
    </form>

    <div id="error-container" role="alert" aria-live="assertive" aria-atomic="true" tabindex="0">
      <svg data-lucide="alert-circle" width="20" height="20"></svg>
      <p id="error-message" style="margin:0;"></p>
    </div>

    <div id="result-container" aria-live="polite" aria-atomic="true" tabindex="0">
      <div>
        <svg data-lucide="check-circle-2" width="24" height="24"></svg>
        Akun Valid
      </div>
      <div class="info-row">
        <svg data-lucide="user" width="20" height="20"></svg>
        <span class="info-label">Nickname:</span>
        <span class="info-value" id="result-nickname"></span>
      </div>
      <div class="info-row">
        <svg data-lucide="globe" width="20" height="20"></svg>
        <span class="info-label">Country:</span>
        <span class="info-value" id="result-country"></span>
      </div>
    </div>

    <footer>
      Â© <span id="current-year"></span> <a href="//caliph.dev" target="_blank" rel="noopener noreferrer">@caliphdev</a>
    </footer>
  </main>

  <script>
    // Init year & icons
    document.getElementById('current-year').textContent = new Date().getFullYear();
    lucide.replace();

    const form = document.getElementById('validation-form');
    const submitBtn = document.getElementById('submit-button');
    const errorContainer = document.getElementById('error-container');
    const errorMessage = document.getElementById('error-message');
    const resultContainer = document.getElementById('result-container');
    const resultNickname = document.getElementById('result-nickname');
    const resultCountry = document.getElementById('result-country');
    const btnLoader = submitBtn.querySelector('.btn-loader');
    const btnText = submitBtn.querySelector('.btn-text');

    // Fungsi simulasi cek ID, ganti dengan API/fetch asli kamu
    function cekAkunML(userId, serverId) {
      return new Promise((resolve, reject) => {
        // Simulasi network delay 2 detik
        setTimeout(() => {
          // Dummy validasi
          if (userId === "123456" && serverId === "78") {
            resolve({ nickname: "CaliphDev", country: "Indonesia" });
          } else {
            reject("Akun tidak ditemukan, periksa kembali ID Anda.");
          }
        }, 2000);
      });
    }

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      errorContainer.style.display = 'none';
      resultContainer.style.display = 'none';

      const gameId = form.gameId.value.trim();
      const serverId = form.serverId.value.trim();

      if (!gameId || !serverId) {
        errorMessage.textContent = "User ID dan Server ID wajib diisi!";
        errorContainer.style.display = 'flex';
        errorContainer.focus();
        return;
      }

      // Mulai animasi loading
      submitBtn.classList.add('loading');
      submitBtn.setAttribute('aria-busy', 'true');
      btnLoader.textContent = '0%';
      btnLoader.style.opacity = 1;
      btnText.style.opacity = 0.3;

      let percent = 0;
      const interval = setInterval(() => {
        percent += 5;
        if (percent > 99) percent = 99; // stop di 99 sampai hasil keluar
        btnLoader.textContent = `${percent}%`;
      }, 100);

      try {
        const data = await cekAkunML(gameId, serverId);

        clearInterval(interval);
        btnLoader.textContent = `100%`;

        // Tampilkan hasil validasi
        resultNickname.textContent = data.nickname;
        resultCountry.textContent = data.country;
        resultContainer.style.display = 'flex';
        resultContainer.focus();

      } catch (error) {
        clearInterval(interval);
        btnLoader.style.opacity = 0;
        btnText.style.opacity = 1;

        errorMessage.textContent = error;
        errorContainer.style.display = 'flex';
        errorContainer.focus();
      } finally {
        submitBtn.classList.remove('loading');
        submitBtn.setAttribute('aria-busy', 'false');
        btnLoader.style.opacity = 0;
        btnText.style.opacity = 1;
      }
    });
  </script>
</body>
</html>
